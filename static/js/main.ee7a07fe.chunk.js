(this["webpackJsonpmorning-dashboard"]=this["webpackJsonpmorning-dashboard"]||[]).push([[0],{43:function(e,t,a){e.exports=a(61)},48:function(e,t,a){},49:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(17),r=a.n(c),o=(a(48),a(49),function(){return l.a.createElement("div",{style:i.about},l.a.createElement("a",{href:"https://github.com/pmontu/react-stock-market-hacker-news-dashboard"},"View Source Code on Github"))}),i={about:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},s=a(16),u=a(15),f=function(){var e=Object(s.g)(),t=function(t){return e.pathname===t?"active":""};return l.a.createElement("div",{className:"nav"},l.a.createElement("ul",null,l.a.createElement("li",{className:t("/")},l.a.createElement(u.b,{to:"/"},"Home")),l.a.createElement("li",{className:t("/about")},l.a.createElement(u.b,{to:"/about"},"About"))))},m=a(12),h=a(81);function b(e,t,a){var n=new URLSearchParams(e);return n.set(t,a),n.toString()}var d=a(82);function p(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),o=Object(m.a)(r,2),i=o[0],u=o[1],f=Object(s.g)(),p=f.pathname,E=f.search,y=Object(s.f)();Object(n.useEffect)((function(){u(!0),fetch("https://financialmodelingprep.com/api/v3/company/stock/list").then((function(e){if(!e.ok)throw Error("failed to fetch");return e.json()})).then((function(e){var t=e.symbolsList;u(!1),c(t.splice(0,100))}))}),[]);var v=Object(n.useCallback)((function(e){var t="".concat(p,"?").concat(b(E,"symbol",e));y.push(t)}),[p,E,y]);return i?l.a.createElement("div",{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"center"}},l.a.createElement(h.a,null)):l.a.createElement("div",{className:"cards"},l.a.createElement("ul",{style:{margin:16,padding:0,listStyleType:"none"}},a.map((function(e,t,a){return l.a.createElement("li",{key:t},l.a.createElement(d.a,{key:t,onClick:function(){return v(e.symbol)},fullWidth:!0,variant:"contained",style:{marginBottom:14}},e.name||e.symbol))}))))}a(26);var E=[{label:"open",data:[["2020-04-08",26.17],["2020-04-07",26.61],["2020-04-06",26.01],["2020-04-03",25.16],["2020-04-02",24.59]]},{label:"high",data:[["2020-04-08",26.53],["2020-04-07",26.76],["2020-04-06",26.7],["2020-04-03",25.88],["2020-04-02",25.72]]},{label:"low",data:[["2020-04-08",25.83],["2020-04-07",25.78],["2020-04-06",25.54],["2020-04-03",24.74],["2020-04-02",24.37]]},{label:"close",data:[["2020-04-08",26.2],["2020-04-07",26.09],["2020-04-06",26.34],["2020-04-03",24.95],["2020-04-02",25.04]]}],y=[{label:"AB",data:[[0,10]]},{label:"CD",data:[[0,20]]},{label:"EF",data:[[0,30]]},{label:"GH",data:[[0,40]]},{label:"IJ",data:[[0,50]]}];function v(){var e=Object(s.f)(),t=Object(s.g)(),a=Object(n.useState)(!1),c=Object(m.a)(a,2),r=c[0],o=c[1],i=Object(n.useState)(y),u=Object(m.a)(i,2),f=u[0],d=u[1];Object(n.useEffect)((function(){o(!0),fetch("https://financialmodelingprep.com/api/v3/stock/actives").then((function(e){if(!e.ok)throw Error("failed to fetch");return e.json()})).then((function(e){var t=e.mostActiveStock.sort((function(e,t){return t.price-e.price})).reduce((function(e,t){return e.push({label:t.ticker,data:[[0,Math.log10(parseInt(t.price))]]}),e}),[]);o(!1),d(t)}))}),[]);var p=l.a.useMemo((function(){return{type:"bar"}}),[]),E=l.a.useMemo((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left",min:0}]}),[]),v=Object(n.useCallback)((function(a){e.push("".concat(t.pathname,"?").concat(b(t.search,"symbol",a.seriesLabel)))}),[t.pathname,t.search,e]),j=Object(n.useCallback)((function(){}),[f,p,E,v]);return r?l.a.createElement("div",{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"center"}},l.a.createElement(h.a,null)):l.a.createElement(j,null)}function j(){var e=function(){var e=Object(s.g)();return new URLSearchParams(e.search).get("symbol")}(),t=Object(n.useState)(E),a=Object(m.a)(t,2),c=a[0],r=a[1],o=Object(n.useState)(!1),i=Object(m.a)(o,2),u=i[0],f=i[1];Object(n.useEffect)((function(){if(e){var t="https://financialmodelingprep.com/api/v3/historical-price-full/".concat(e,"?timeseries=5");f(!0),fetch(t).then((function(e){if(!e.ok)throw Error("failed to fetch");return e.json()})).then((function(e){var t=e.historical,a=["open","high","low","close"].map((function(e){return{label:e,data:t.map((function(t){return[t.date,t[e]]}))}}));f(!1),r(a)}))}else r(E)}),[e]);var b=l.a.useMemo((function(){return{type:"bar"}}),[]),d=l.a.useMemo((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left",min:0}]}),[]),p=Object(n.useCallback)((function(){}),[c,b,d]);return u?l.a.createElement("div",{style:{display:"flex",flex:1,alignItems:"center",justifyContent:"center"}},l.a.createElement(h.a,null)):l.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column"}},l.a.createElement("h3",{style:{alignSelf:"center"}},"".concat(e," History")),l.a.createElement(p,null))}var g=a(39),x=a(83),O=a(84),k=function(e){if(!e.ok)throw Error("failed to fetch");return e.json()};function w(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),o=Object(m.a)(r,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){fetch("https://hacker-news.firebaseio.com/v0/".concat(i?"topstories":"askstories",".json")).then(k).then((function(e){e.splice(0,25).forEach((function(e){fetch("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json")).then(k).then((function(e){c((function(t){return[].concat(Object(g.a)(t),[e])}))}))}))}))}),[i]),l.a.createElement("div",{className:"news",style:{flex:1,display:"flex",flexDirection:"column"}},l.a.createElement("div",{style:{flex:1,alignSelf:"center"}},l.a.createElement(O.a,{control:l.a.createElement(x.a,{checked:i,onChange:function(){c([]),s((function(e){return!e}))},name:"checkedB",color:"primary"}),label:i?"News":"Asks"})),l.a.createElement("ul",null,a.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("a",{href:e.url},e.title))}))))}function S(){var e=function(){var e=Object(s.g)();return new URLSearchParams(e.search).get("symbol")}();return l.a.createElement("div",{style:C.home},l.a.createElement("div",{style:C.list},l.a.createElement("h3",{style:{alignSelf:"center"}},"Companies"),l.a.createElement(p,null)),l.a.createElement("div",{style:C.chart},!e&&l.a.createElement("div",{style:C.mostActive},l.a.createElement("h3",{style:{alignSelf:"center"}},"Most Active"),l.a.createElement(v,null)),e&&l.a.createElement("div",{style:{flex:1,display:"flex"}},l.a.createElement(j,null))),l.a.createElement("div",{style:{flex:1,display:"flex",overflow:"scroll",flexDirection:"column"}},l.a.createElement(w,null)))}var C={home:{display:"flex",flex:10,flexDirection:"row",overflow:"hidden"},list:{display:"flex",flex:1,overflow:"scroll",flexDirection:"column"},chart:{flex:3,display:"flex",flexDirection:"column"},mostActive:{display:"flex",flex:1,flexDirection:"column"}};var D={root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",position:"fixed"}},A=function(){return l.a.createElement(u.a,null,l.a.createElement("div",{style:D.root},l.a.createElement(f,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/"},l.a.createElement(S,null)),l.a.createElement(s.a,{path:"/about"},l.a.createElement(o,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.ee7a07fe.chunk.js.map