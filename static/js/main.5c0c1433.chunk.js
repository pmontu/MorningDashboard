(this["webpackJsonpreact-stock-market-hacker-news-dashboard"]=this["webpackJsonpreact-stock-market-hacker-news-dashboard"]||[]).push([[0],{40:function(e,t,a){e.exports=a(59)},45:function(e,t,a){},46:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=(a(45),a(46),function(){return r.a.createElement("div",{className:"center"},r.a.createElement("a",{href:"https://github.com/pmontu/react-stock-market-hacker-news-dashboard"},"View Source Code on Github"))}),i=a(16),s=a(11),u=a(22),m=function(){var e=Object(i.h)(),t=function(t){return e.pathname===t?"active":""};return r.a.createElement("div",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",{className:t("/")},r.a.createElement(s.b,{to:"/"},"Stocks")),r.a.createElement("li",{className:t("/company-list")},r.a.createElement(s.b,{to:"/company-list"},"Companies")),r.a.createElement(u.MobileView,{renderWithFragment:!0},r.a.createElement("li",{className:t("/news")},r.a.createElement(s.b,{to:"/news"},"News"))),r.a.createElement("li",{className:t("/about")},r.a.createElement(s.b,{to:"/about"},"About"))))},f=a(10),h=a(24);function b(e,t,a){var n=new URLSearchParams(e);return n.set(t,a),n.toString()}var p=[{label:"open",data:[["2020-04-08",26.17],["2020-04-07",26.61],["2020-04-06",26.01],["2020-04-03",25.16],["2020-04-02",24.59]]},{label:"high",data:[["2020-04-08",26.53],["2020-04-07",26.76],["2020-04-06",26.7],["2020-04-03",25.88],["2020-04-02",25.72]]},{label:"low",data:[["2020-04-08",25.83],["2020-04-07",25.78],["2020-04-06",25.54],["2020-04-03",24.74],["2020-04-02",24.37]]},{label:"close",data:[["2020-04-08",26.2],["2020-04-07",26.09],["2020-04-06",26.34],["2020-04-03",24.95],["2020-04-02",25.04]]}],d=[{label:"AB",data:[[0,10]]},{label:"CD",data:[[0,20]]},{label:"EF",data:[[0,30]]},{label:"GH",data:[[0,40]]},{label:"IJ",data:[[0,50]]}],E=a(80),v=function(){return r.a.createElement("div",{className:"center"},r.a.createElement(E.a,null))};function y(){var e=Object(i.g)(),t=Object(i.h)(),a=Object(n.useState)(!1),c=Object(f.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(d),u=Object(f.a)(s,2),m=u[0],p=u[1];Object(n.useEffect)((function(){o(!0),fetch("https://financialmodelingprep.com/api/v3/stock/actives").then((function(e){if(!e.ok)throw Error("failed to fetch");return e.json()})).then((function(e){var t=e.mostActiveStock.sort((function(e,t){return t.price-e.price})).reduce((function(e,t){return e.push({label:t.ticker,data:[[0,Math.log10(parseInt(t.price))]]}),e}),[]);o(!1),p(t)}))}),[]);var E=r.a.useMemo((function(){return{type:"bar"}}),[]),y=r.a.useMemo((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left",min:0}]}),[]),j=Object(n.useCallback)((function(a){e.push("".concat(t.pathname,"?").concat(b(t.search,"symbol",a.seriesLabel)))}),[t.pathname,t.search,e]),w=r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement(h.Chart,{data:m,series:E,axes:y,tooltip:!0,onClick:j}));return r.a.createElement("div",{style:k.mostActive},r.a.createElement("h3",{style:{alignSelf:"center"}},"Most Active Stocks"),l?r.a.createElement(v,null):w)}var k={mostActive:{display:"flex",flex:1,flexDirection:"column"}};function j(){var e=function(){var e=Object(i.h)();return new URLSearchParams(e.search).get("symbol")}(),t=Object(n.useState)(p),a=Object(f.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),s=Object(f.a)(o,2),u=s[0],m=s[1];Object(n.useEffect)((function(){if(e){var t="https://financialmodelingprep.com/api/v3/historical-price-full/".concat(e,"?timeseries=5");m(!0),fetch(t).then((function(e){if(!e.ok)throw Error("failed to fetch");return e.json()})).then((function(e){var t=e.historical,a=["open","high","low","close"].map((function(e){return{label:e,data:t.map((function(t){return[t.date,t[e]]}))}}));m(!1),l(a)}))}else l(p)}),[e]);var b=r.a.useMemo((function(){return{type:"bar"}}),[]),d=r.a.useMemo((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left",min:0}]}),[]),E=r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement(h.Chart,{data:c,series:b,axes:d,tooltip:!0,onClick:function(e){console.log(e)}}));return r.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column"}},u?r.a.createElement(v,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{alignSelf:"center"}},"".concat(e," History")),E))}var w=a(82),g=a(83),O=function(e){if(!e.ok)throw Error("failed to fetch");return e.json()};function x(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!0),o=Object(f.a)(l,2),i=o[0],s=o[1],u=Object(n.useState)(!1),m=Object(f.a)(u,2),h=m[0],b=m[1];Object(n.useEffect)((function(){b(!0),fetch("https://hacker-news.firebaseio.com/v0/".concat(i?"topstories":"askstories",".json")).then(O).then((function(e){Promise.all(e.splice(0,25).map((function(e){return new Promise((function(t,a){return fetch("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json")).then(O).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))}))).then((function(e){b(!1),c(e)}))}))}),[i]);return r.a.createElement("div",{style:C.scroll},r.a.createElement(g.a,{control:r.a.createElement(w.a,{checked:i,onChange:function(){c([]),s((function(e){return!e}))},name:"checkedBox",color:"primary"}),label:i?"Top Stories":"Asks"}),h?r.a.createElement(v,null):r.a.createElement("ul",{className:"news"},a.map((function(e,t){return i?r.a.createElement("li",{key:t},r.a.createElement("a",{href:e.url},e.title)):r.a.createElement(S,Object.assign({},e,{key:t}))}))))}function S(e){var t=Object(n.useState)(!0),a=Object(f.a)(t,2),c=a[0],l=a[1];return r.a.createElement("li",{onClick:function(){return l((function(e){return!e}))}},r.a.createElement("div",null,e.title),e.text&&r.a.createElement("div",{style:{display:c?"none":"inline-block",marginTop:14},dangerouslySetInnerHTML:{__html:e.text}}))}var C={scroll:{flex:1,display:"flex",flexDirection:"column",overflow:"scroll",alignItems:"center"}};function N(){var e=function(){var e=Object(i.h)();return new URLSearchParams(e.search).get("symbol")}();return r.a.createElement("div",{style:M.home},e?r.a.createElement(j,null):r.a.createElement(y,null),u.isBrowser&&r.a.createElement(x,null))}var M={home:{display:"flex",flex:1,flexDirection:"row",overflow:"hidden"}},A=function(){return r.a.createElement("div",{className:"center"},r.a.createElement("h1",null,"Page Not Found"),r.a.createElement(s.b,{to:"/"},"Go back Home"))},D=a(81);function B(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(f.a)(l,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){s(!0),fetch("https://financialmodelingprep.com/api/v3/company/stock/list").then((function(e){if(!e.ok)throw Error("failed to fetch");return e.json()})).then((function(e){var t=e.symbolsList;s(!1),c(t.splice(0,100))}))}),[]),r.a.createElement("div",{style:P.list},r.a.createElement("h3",{style:{alignSelf:"center"}},"Companies"),i?r.a.createElement(v,null):r.a.createElement(L,{symbols:a}))}function L(e){var t=e.symbols,a=Object(i.h)().search,c=Object(i.g)(),l=Object(n.useCallback)((function(e){var t="/?".concat(b(a,"symbol",e));c.push(t)}),[a,c]);return r.a.createElement("div",{className:"cards"},r.a.createElement("ul",{style:{margin:16,padding:0,listStyleType:"none"}},t.map((function(e,t,a){return r.a.createElement("li",{key:t},r.a.createElement(D.a,{key:t,onClick:function(){return l(e.symbol)},fullWidth:!0,variant:"contained",style:{marginBottom:14}},e.name||e.symbol))}))))}var P={list:{display:"flex",flex:1,overflow:"scroll",flexDirection:"column"}};var I={root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",position:"fixed"}},F=function(){return r.a.createElement(s.a,{basename:"/react-stock-market-hacker-news-dashboard"},r.a.createElement("div",{style:I.root},r.a.createElement(m,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(N,null)),r.a.createElement(i.b,{path:"/company-list"},r.a.createElement(B,null)),r.a.createElement(i.b,{path:"/news"},r.a.createElement(x,null)),r.a.createElement(i.b,{path:"/about"},r.a.createElement(o,null)),r.a.createElement(i.b,{path:"/404",component:A}),r.a.createElement(i.a,{to:"/404"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.5c0c1433.chunk.js.map