(this["webpackJsonpreact-stock-market-hacker-news-dashboard"]=this["webpackJsonpreact-stock-market-hacker-news-dashboard"]||[]).push([[0],{69:function(e,t,a){e.exports=a(90)},74:function(e,t,a){},75:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=(a(74),a(75),function(){return r.a.createElement("div",{className:"center"},r.a.createElement("a",{href:"https://github.com/pmontu/react-stock-market-hacker-news-dashboard"},"View Source Code on Github"))}),i=a(23),s=a(12),u=a(33),m=function(){var e=Object(i.h)(),t=function(t){return e.pathname===t?"active":""};return r.a.createElement("div",{className:"nav"},r.a.createElement("ul",null,r.a.createElement("li",{className:t("/")},r.a.createElement(s.b,{to:"/"},"Stocks")),r.a.createElement("li",{className:t("/company-list")},r.a.createElement(s.b,{to:"/company-list"},"Companies")),r.a.createElement(u.MobileView,{renderWithFragment:!0},r.a.createElement("li",{className:t("/news")},r.a.createElement(s.b,{to:"/news"},"News"))),r.a.createElement("li",{className:t("/about")},r.a.createElement(s.b,{to:"/about"},"About"))))},h=a(14),f=a(35);function b(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new URLSearchParams(e);return a?n.set(t,a):n.delete(t),n.toString()}var E=function(e){if(!e.ok)throw Error("failed to fetch");return e.json()},d=[{label:"open",data:[["2020-04-08",26.17],["2020-04-07",26.61],["2020-04-06",26.01],["2020-04-03",25.16],["2020-04-02",24.59]]},{label:"high",data:[["2020-04-08",26.53],["2020-04-07",26.76],["2020-04-06",26.7],["2020-04-03",25.88],["2020-04-02",25.72]]},{label:"low",data:[["2020-04-08",25.83],["2020-04-07",25.78],["2020-04-06",25.54],["2020-04-03",24.74],["2020-04-02",24.37]]},{label:"close",data:[["2020-04-08",26.2],["2020-04-07",26.09],["2020-04-06",26.34],["2020-04-03",24.95],["2020-04-02",25.04]]}],p=[{label:"AB",data:[[0,10]]},{label:"CD",data:[[0,20]]},{label:"EF",data:[[0,30]]},{label:"GH",data:[[0,40]]},{label:"IJ",data:[[0,50]]}],v=a(120),y=function(){return r.a.createElement("div",{className:"center"},r.a.createElement(v.a,null))};function g(){var e=Object(i.h)().search,t=Object(n.useState)(!1),a=Object(h.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),u=Object(h.a)(o,2),m=u[0],d=u[1],v=Object(n.useState)(p),g=Object(h.a)(v,2),k=g[0],O=g[1];Object(n.useEffect)((function(){l(!0),fetch("https://financialmodelingprep.com/api/v3/stock/actives").then(E).then((function(e){var t=e.mostActiveStock,a=function(e){return e.reduce((function(e,t){return e.push({label:t.ticker,data:[["",Math.log10(parseInt(t.price))]]}),e}),[])}(t=t.sort((function(e,t){return t.price-e.price})));l(!1),O(a),d(t)})).catch((function(e){return console.error(e)}))}),[]);var w=r.a.useMemo((function(){return{type:"bar"}}),[]),x=r.a.useMemo((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left",min:0}]}),[]),S=r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement(f.Chart,{data:k,series:w,axes:x,tooltip:!0}));return r.a.createElement("div",{style:j.mostActive},r.a.createElement("h3",{style:{alignSelf:"center"}},"Most Active Stocks"),c&&r.a.createElement(y,null),!c&&S,!c&&m&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{textAlign:"left"}},"Company"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Change%"))),r.a.createElement("tbody",null,m.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement(s.b,{to:"/?".concat(b(e,"symbol",t.ticker))},t.companyName||t.ticker)),r.a.createElement("td",{className:"num"},parseFloat(t.price).toFixed(2)),r.a.createElement("td",{className:"num"},t.changesPercentage.replace(/[()%]/g,"")))})))))}var j={mostActive:{display:"flex",flex:1,flexDirection:"column",overflow:"scroll"}},k=a(43);function O(e){var t=Object(i.h)();return new URLSearchParams(t.search).get(e)}function w(){var e=O("symbol"),t=Object(n.useState)(d),a=Object(h.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(!1),i=Object(h.a)(o,2),s=i[0],u=i[1];Object(n.useEffect)((function(){if(e){var t="https://financialmodelingprep.com/api/v3/historical-price-full/".concat(e,"?timeseries=5");u(!0),fetch(t).then(E).then((function(e){var t=e.historical,a=["open","high","low","close"].map((function(e){return{label:e,data:t.map((function(t){return[t.date,t[e]]}))}}));u(!1),l(a)})).catch((function(e){return console.error(e)}))}else l(d)}),[e]);var m=r.a.useMemo((function(){return{type:"bar"}}),[]),b=r.a.useMemo((function(){return[{primary:!0,type:"ordinal",position:"bottom"},{type:"linear",position:"left",min:0}]}),[]),p=r.a.createElement("div",{style:{width:"100%",height:"100%"}},r.a.createElement(f.Chart,{data:c,series:m,axes:b,tooltip:!0}));return r.a.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column"}},s?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{alignSelf:"center"}},"".concat(e," History")),p))}k.a.initialize("UA-163560940-1");var x=a(128),S=a(124),N=a(61);function C(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(h.a)(l,2),s=o[0],u=o[1],m=Object(i.h)(),f=m.search,d=m.pathname,p=Object(i.g)(),v=function(){var e=O("item");return!e||"ask"!==e}();Object(n.useEffect)((function(){u(!0),fetch("https://hacker-news.firebaseio.com/v0/".concat(v?"topstories":"askstories",".json")).then(E).then((function(e){Promise.all(e.splice(0,25).map((function(e){return new Promise((function(t,a){return fetch("https://hacker-news.firebaseio.com/v0/item/".concat(e,".json")).then(E).then((function(e){return t(e)})).catch((function(e){return a(e)}))}))}))).then((function(e){u(!1),c(e)})).catch((function(e){return console.error(e)}))}))}),[v]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{style:{marginTop:18},control:r.a.createElement(x.a,{checked:v,onChange:function(){var e=b(f,"item",v?"ask":null);p.push({pathname:d,search:"?".concat(e)})},name:"checkedBox",color:"primary"}),label:r.a.createElement(N.a,{style:{fontWeight:"bold"}},v?"Top Stories":"Asks")}),s?r.a.createElement(y,null):r.a.createElement("ul",{className:"news"},a.map((function(e,t){return v?r.a.createElement("li",{key:t},r.a.createElement("a",{href:e.url},e.title)):r.a.createElement(A,Object.assign({},e,{key:t}))}))))}function A(e){var t=Object(n.useState)(!0),a=Object(h.a)(t,2),c=a[0],l=a[1];return r.a.createElement("li",{onClick:function(){return l((function(e){return!e}))}},r.a.createElement("div",null,e.title),e.text&&r.a.createElement("div",{style:{display:c?"none":"inline-block",marginTop:14},dangerouslySetInnerHTML:{__html:e.text}}))}function M(e){return e.id}var P=function(){var e=function(){var e=O("item");return e&&"ask"!==e?e:null}();return r.a.createElement("div",{style:F.scroll},e?r.a.createElement(M,{id:e}):r.a.createElement(C,null))},F={scroll:{flex:1,display:"flex",flexDirection:"column",overflow:"scroll",alignItems:"center"}};function D(){var e=function(){var e=Object(i.h)();return new URLSearchParams(e.search).get("symbol")}();return r.a.createElement("div",{style:B.home},e?r.a.createElement(w,null):r.a.createElement(g,null),u.isBrowser&&r.a.createElement(P,null))}var B={home:{display:"flex",flex:1,flexDirection:"row",overflow:"hidden"}},I=function(){return r.a.createElement("div",{className:"center"},r.a.createElement("h1",null,"Page Not Found"),r.a.createElement(s.b,{to:"/"},"Go back Home"))},L=a(60),W=a(126),H=a(127),T=a(125),U=a(59),G=a.n(U),J=a(44),R=a(58),z=Object(J.a)(),V={list:{display:"flex",flex:1,overflow:"scroll",flexDirection:"column"}},_=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(h.a)(l,2),s=o[0],u=o[1],m=Object(i.h)().search,f=Object(i.g)(),d=Object(n.useState)(null),p=Object(h.a)(d,2),v=p[0],g=p[1],j=Object(n.useCallback)((function(e){var t="/?".concat(b(m,"symbol",e));f.push(t)}),[m,f]);Object(n.useEffect)((function(){u(!0),fetch("https://financialmodelingprep.com/api/v3/company/stock/list").then(E).then((function(e){var t=e.symbolsList;u(!1),c(t.map((function(e,t){return Object(L.a)({},e,{id:t})})))})).catch((function(e){return console.error(e)}))}),[]),Object(n.useEffect)((function(){v&&a&&c((function(e){return e.filter((function(e){return e.name.includes(v)}))}))}),[v,a]);return r.a.createElement("div",{style:V.list},s?r.a.createElement(y,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(H.a,{id:"search",label:"Search",variant:"outlined",size:"small",value:v,onChange:function(e){g(e.target.value)},InputProps:{endAdornment:r.a.createElement(T.a,{position:"start"},r.a.createElement(G.a,null))}}),r.a.createElement(R.a,null,(function(e){var t=e.height,n=e.width;return r.a.createElement(J.b,{cache:z,data:a,width:n,height:t},(function(e){var t=e.index,n=e.style;return r.a.createElement("div",{style:n},r.a.createElement(W.a,{key:t,onClick:function(){return j(a[t].symbol)},fullWidth:!0,variant:"contained",style:{marginBottom:14}},a[t].name||a[t].symbol))}))}))))};function $(){return function(){var e=Object(i.h)();Object(n.useEffect)((function(){var t="".concat(e.pathname).concat(e.search);k.a.pageview(t)}),[e])}(),r.a.createElement("div",{style:q.root},r.a.createElement(m,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(D,null)),r.a.createElement(i.b,{path:"/company-list"},r.a.createElement(_,null)),r.a.createElement(i.b,{path:"/news"},r.a.createElement(P,null)),r.a.createElement(i.b,{path:"/about"},r.a.createElement(o,null)),r.a.createElement(i.b,{path:"/404",component:I}),r.a.createElement(i.a,{to:"/404"})))}var q={root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",position:"fixed"}},K=function(){return r.a.createElement(s.a,{basename:"/react-stock-market-hacker-news-dashboard"},r.a.createElement($,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.921ab96c.chunk.js.map